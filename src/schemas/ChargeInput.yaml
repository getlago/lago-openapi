type: object
properties:
  billable_metric_id:
    type: string
    format: "uuid"
    description: Unique identifier of the billable metric created by Lago.
    example: "1a901a90-1a90-1a90-1a90-1a901a901a90"
  code:
    type: string
    description: Unique code identifying the charge within the plan.
    example: "api_requests_charge"
  charge_model:
    $ref: "./ChargeModelEnum.yaml"
  pay_in_advance:
    type: boolean
    example: false
    description: This field determines the billing timing for this specific usage-based charge. When set to `true`, the charge is due and invoiced immediately. Conversely, when set to false, the charge is due and invoiced at the end of each billing period.
  invoiceable:
    type: boolean
    description: This field specifies whether the charge should be included in a proper invoice. If set to false, no invoice will be issued for this charge. You can only set it to `false` when `pay_in_advance` is `true`.
    example: true
  regroup_paid_fees:
    type:
      - string
      - "null"
    enum:
      - null
      - invoice
    description: |-
      This setting can only be configured if `pay_in_advance` is `true` and `invoiceable` is `false`.
      This field determines whether and when the charge fee should be included in
      the invoice. If `null`, no invoice will be issued for this charge fee.
      If `invoice`, an invoice will be generated at the end of the period,
      consolidating all charge fees with a succeeded payment status.
    example: null
  invoice_display_name:
    type: string
    description: Specifies the name that will be displayed on an invoice. If no value is set for this field, the name of the actual charge will be used as the default display name.
    example: "Setup"
  prorated:
    type: boolean
    example: false
    description: |-
      Specifies whether a charge is prorated based on the remaining number of days in the billing period or billed fully.

      - If set to `true`, the charge is prorated based on the remaining days in the current billing period.
      - If set to `false`, the charge is billed in full.
      - If not defined in the request, default value is `false`.
  min_amount_cents:
    type: integer
    description: The minimum spending amount required for the charge, measured in cents and excluding any applicable taxes. It indicates the minimum amount that needs to be charged for each billing period.
    example: 0
  properties:
    $ref: "./ChargeProperties.yaml"
    description: List of all thresholds utilized for calculating the charge.
  filters:
    type: array
    description: List of filters used to apply differentiated pricing based on additional event properties.
    items:
      $ref: "./ChargeFilterInput.yaml"
  tax_codes:
    $ref: "./TaxCodes.yaml"
  applied_pricing_unit:
    type: object
    description: The pricing unit to apply to the charge.
    properties:
      code:
        type: string
        description: The code of the pricing unit.
        example: "credits"
      conversion_rate:
        type: string
        description: |-
          The conversion rate from pricing units to the plan's currency.
          This rate determines how many currency units (in the plan's base currency) equal one pricing unit.
          For example, if the plan uses USD and the conversion rate is 0.5, then 1 pricing unit = $0.50.
        example: "0.5"
