AddOnBaseInput:
  $ref: './AddOnBaseInput.yaml'
AddOnCreateInput:
  $ref: './AddOnCreateInput.yaml'
AddOnObject:
  $ref: './AddOnObject.yaml'
AddOn:
  $ref: './AddOn.yaml'
AddOnsPaginated:
  $ref: './AddOnsPaginated.yaml'
AddOnUpdateInput:
  $ref: './AddOnUpdateInput.yaml'
ApiErrorBadRequest:
  $ref: './ApiErrorBadRequest.yaml'
ApiErrorForbidden:
  $ref: './ApiErrorForbidden.yaml'
ApiErrorUnauthorized:
  $ref: './ApiErrorUnauthorized.yaml'
ApiErrorUnprocessableEntity:
  $ref: './ApiErrorUnprocessableEntity.yaml'
ApiErrorNotAllowed:
  $ref: './ApiErrorNotAllowed.yaml'
ApiErrorNotFound:
  $ref: './ApiErrorNotFound.yaml'
AppliedAddOn:
  $ref: './AppliedAddOn.yaml'
AppliedAddOnInput:
  $ref: './AppliedAddOnInput.yaml'
AppliedAddOnObject:
  $ref: './AppliedAddOnObject.yaml'
AppliedCoupon:
  $ref: './AppliedCoupon.yaml'
AppliedCouponInput:
  $ref: './AppliedCouponInput.yaml'
AppliedCouponObject:
  $ref: './AppliedCouponObject.yaml'
AppliedCouponObjectExtended:
  $ref: './AppliedCouponObjectExtended.yaml'
AppliedCouponsPaginated:
  $ref: './AppliedCouponsPaginated.yaml'
BillableMetric:
  $ref: './BillableMetric.yaml'
BillableMetricObject:
  $ref: './BillableMetricObject.yaml'
BillableMetricBaseInput:
  $ref: './BillableMetricBaseInput.yaml'
BillableMetricCreateInput:
  $ref: './BillableMetricCreateInput.yaml'
BillableMetricUpdateInput:
  $ref: './BillableMetricUpdateInput.yaml'
BillableMetricGroup:
  $ref: './BillableMetricGroup.yaml'
BillableMetricsPaginated:
  $ref: './BillableMetricsPaginated.yaml'
Coupon:
  $ref: './Coupon.yaml'
CouponBaseInput:
  $ref: './CouponBaseInput.yaml'
CouponCreateInput:
  $ref: './CouponCreateInput.yaml'
CouponObject:
  $ref: './CouponObject.yaml'
CouponsPaginated:
  $ref: './CouponsPaginated.yaml'
CouponUpdateInput:
  $ref: './CouponUpdateInput.yaml'
CreditObject:
  $ref: './CreditObject.yaml'
CreditNote:
  $ref: './CreditNote.yaml'
CreditNoteItemObject:
  $ref: './CreditNoteItemObject.yaml'
CreditNoteObject:
  $ref: './CreditNoteObject.yaml'
CreditNotes:
  $ref: './CreditNotes.yaml'
CreditNoteCreateInput:
  $ref: './CreditNoteCreateInput.yaml'
CreditNoteUpdateInput:
  $ref: './CreditNoteUpdateInput.yaml'
Currency:
  $ref: './Currency.yaml'
Customer:
  $ref: './Customer.yaml'
CustomerBillingConfiguration:
  $ref: './CustomerBillingConfiguration.yaml'
CustomerChargeUsageObject:
  $ref: './CustomerChargeUsageObject.yaml'
CustomerCreateInput:
  $ref: './CustomerCreateInput.yaml'
CustomerMetadata:
  $ref: './CustomerMetadata.yaml'
CustomerObject:
  $ref: './CustomerObject.yaml'
CustomersPaginated:
  $ref: './CustomersPaginated.yaml'
CustomerUsage:
  $ref: './CustomerUsage.yaml'
CustomerUsageObject:
  $ref: './CustomerUsageObject.yaml'
Event:
  $ref: './Event.yaml'
EventBatchInput:
  $ref: './EventBatchInput.yaml'
EventInput:
  $ref: './EventInput.yaml'
EventObject:
  $ref: './EventObject.yaml'
Fee:
  $ref: './Fee.yaml'
FeeObject:
  $ref: './FeeObject.yaml'
Fees:
  $ref: './Fees.yaml'
FeesPaginated:
  $ref: './FeesPaginated.yaml'
FeeUpdateInput:
  $ref: './FeeUpdateInput.yaml'
GroupObject:
  $ref: './GroupObject.yaml'
GroupsPaginated:
  $ref: './GroupsPaginated.yaml'
Organization:
  $ref: './Organization.yaml'
OrganizationBillingConfiguration:
  $ref: './OrganizationBillingConfiguration.yaml'
OrganizationObject:
  $ref: './OrganizationObject.yaml'
OrganizationUpdateInput:
  $ref: './OrganizationUpdateInput.yaml'
PaginationMeta:
  $ref: './PaginationMeta.yaml'
Subscription:
  $ref: './Subscription.yaml'
SubscriptionCreateInput:
  $ref: './SubscriptionCreateInput.yaml'
SubscriptionUpdateInput:
  $ref: './SubscriptionUpdateInput.yaml'
SubscriptionObject:
  $ref: './SubscriptionObject.yaml'
SubscriptionsPaginated:
  $ref: './SubscriptionsPaginated.yaml'
Timezone:
  $ref: './Timezone.yaml'
Wallet:
  $ref: './Wallet.yaml'
WalletCreateInput:
  $ref: './WalletCreateInput.yaml'
WalletObject:
  $ref: './WalletObject.yaml'
WalletsPaginated:
  $ref: './WalletsPaginated.yaml'
WalletTransactionCreateInput:
  $ref: './WalletTransactionCreateInput.yaml'
WalletTransactionObject:
  $ref: './WalletTransactionObject.yaml'
WalletTransactions:
  $ref: './WalletTransactions.yaml'
WalletTransactionsPaginated:
  $ref: './WalletTransactionsPaginated.yaml'
WalletUpdateInput:
  $ref: './WalletUpdateInput.yaml'

# TODO: split into multiple files
EventEstimateFeesInput:
  type: object
  required:
    - event
  properties:
    event:
      type: object
      required:
        - "code"
      properties:
        code:
          type: string
          example: 'code'
        external_customer_id:
          type: string
          example: '654321'
        external_subscription_id:
          type: string
          example: '123456'
        properties:
          type: object
GroupPropertiesObject:
  type: object
  required:
    - group_id
    - values
  properties:
    group_id:
      type: string
      example: '123456'
    values:
      type: object
ChargeObject:
  type: object
  required:
    - lago_id
    - lago_billable_metric_id
    - billable_metric_code
    - created_at
    - charge_model
  properties:
    lago_id:
      type: string
      format: 'uuid'
      example: '1a901a90-1a90-1a90-1a90-1a901a901a90'
    lago_billable_metric_id:
      type: string
      format: 'uuid'
      example: '1a901a90-1a90-1a90-1a90-1a901a901a90'
    billable_metric_code:
      type: string
      example: 'bm_code'
    created_at:
      type: string
      format: 'date-time'
      example: '2022-09-14T16:35:31Z'
    charge_model:
      type: string
      description: Charge model type
      enum:
        - standard
        - graduated
        - package
        - percentage
        - volume
    pay_in_advance:
      type: boolean
      example: true
    invoiceable:
      type: boolean
      example: true
    min_amount_cents:
      type: integer
      example: 1200
    properties:
      type: object
    group_properties:
      type: array
      items:
        $ref: '#/GroupPropertiesObject'
PlanObject:
  type: object
  required:
    - lago_id
    - name
    - created_at
    - code
    - interval
    - amount_cents
    - amount_currency
    - active_subscriptions_count
    - draft_invoices_count
  properties:
    lago_id:
      type: string
      format: 'uuid'
      example: '1a901a90-1a90-1a90-1a90-1a901a901a90'
    name:
      type: string
      example: 'example name'
    created_at:
      type: string
      format: 'date-time'
      example: '2022-09-14T16:35:31Z'
    code:
      type: string
      example: 'example_code'
    interval:
      type: string
      description: Plan interval
      enum:
        - weekly
        - monthly
        - yearly
    description:
      type: string
      example: 'description'
    amount_cents:
      type: integer
      example: 1200
    amount_currency:
      type: string
      example: 'EUR'
    trial_period:
      type: number
      example: 2
    pay_in_advance:
      type: boolean
      example: true
    bill_charges_monthly:
      type: boolean
      example: false
    active_subscriptions_count:
      type: integer
      example: 2
    draft_invoices_count:
      type: integer
      example: 2
    charges:
      type: array
      items:
        $ref: '#/ChargeObject'
Plan:
  type: object
  required:
    - plan
  properties:
    plan:
      $ref: '#/PlanObject'
PlansPaginated:
  type: object
  required:
    - plans
    - meta
  properties:
    plans:
      type: array
      items:
        $ref: '#/PlanObject'
    meta:
      $ref: '#/PaginationMeta'
PlanInput:
  type: object
  required:
    - plan
  properties:
    plan:
      type: object
      properties:
        name:
          type: string
          example: 'example name'
        code:
          type: string
          example: 'example_code'
        interval:
          type: string
          description: Plan interval
          enum:
            - weekly
            - monthly
            - yearly
        description:
          type: string
          example: 'description'
        amount_cents:
          type: integer
          example: 1200
        amount_currency:
          type: string
          example: 'EUR'
        trial_period:
          type: number
          example: 2
        pay_in_advance:
          type: boolean
          example: true
        bill_charges_monthly:
          type: boolean
          example: false
        charges:
          type: array
          items:
            type: object
            properties:
              id:
                type: string
                format: 'uuid'
                example: '1a901a90-1a90-1a90-1a90-1a901a901a90'
              billable_metric_id:
                type: string
                format: 'uuid'
                example: '1a901a90-1a90-1a90-1a90-1a901a901a90'
              charge_model:
                type: string
                description: Charge model type
                enum:
                  - standard
                  - graduated
                  - package
                  - percentage
                  - volume
              pay_in_advance:
                type: boolean
              invoiceable:
                type: boolean
              min_amount_cents:
                type: integer
              properties:
                type: object
              group_properties:
                type: array
                items:
                  type: object
                  required:
                    - group_id
                    - values
                  properties:
                    group_id:
                      type: string
                      example: '123456'
                    values:
                      type: object
InvoiceMetadataObject:
  type: object
  properties:
    lago_id:
      type: string
      format: 'uuid'
      example: '1a901a90-1a90-1a90-1a90-1a901a901a90'
    key:
      type: string
      example: 'name'
    value:
      type: string
      example: 'John'
    created_at:
      type: string
      format: 'date-time'
      example: '2022-09-14T16:35:31Z'
InvoiceObject:
  type: object
  required:
    - lago_id
    - sequential_id
    - number
    - issuing_date
    - invoice_type
    - status
    - payment_status
    - currency
    - fees_amount_cents
    - coupons_amount_cents
    - credit_notes_amount_cents
    - sub_total_vat_excluded_amount_cents
    - vat_amount_cents
    - sub_total_vat_included_amount_cents
    - prepaid_credit_amount_cents
    - total_amount_cents
    - version_number
    - customer
    - legacy
    - amount_cents
    - credit_amount_cents
    - amount_currency
    - total_amount_currency
    - credit_amount_currency
    - vat_amount_currency
  properties:
    lago_id:
      type: string
      format: 'uuid'
      example: '1a901a90-1a90-1a90-1a90-1a901a901a90'
    sequential_id:
      type: integer
      example: 12345
    number:
      type: string
      example: '222345'
    issuing_date:
      type: string
      format: 'date-time'
      example: '2022-09-14T16:35:31Z'
    invoice_type:
      type: string
      enum:
        - subscription
        - add_on
        - credit
        - one_off
    status:
      type: string
      enum:
        - draft
        - finalized
    payment_status:
      type: string
      enum:
        - pending
        - succeeded
        - failed
    currency:
      type: string
      example: 'EUR'
    fees_amount_cents:
      type: integer
      example: 20
    coupons_amount_cents:
      type: integer
      example: 20
    credit_notes_amount_cents:
      type: integer
      example: 20
    sub_total_vat_excluded_amount_cents:
      type: integer
      example: 20
    vat_amount_cents:
      type: integer
      example: 20
    sub_total_vat_included_amount_cents:
      type: integer
      example: 20
    prepaid_credit_amount_cents:
      type: integer
      example: 20
    total_amount_cents:
      type: integer
      example: 20
    version_number:
      type: integer
      example: 2
    amount_cents:
      type: integer
      example: 1200
      deprecated: true
    amount_currency:
      type: string
      example: 'EUR'
      deprecated: true
    vat_amount_currency:
      type: string
      example: 'EUR'
      deprecated: true
    credit_amount_cents:
      type: integer
      example: 20
      deprecated: true
    credit_amount_currency:
      type: string
      example: 'EUR'
      deprecated: true
    total_amount_currency:
      type: string
      example: 'EUR'
      deprecated: true
    legacy:
      type: boolean
      example: true
      deprecated: true
    file_url:
      type: string
      example: 'https://example.com'
    customer:
      $ref: '#/CustomerObject'
    metadata:
      type: array
      items:
        $ref: '#/InvoiceMetadataObject'
InvoiceObjectExtended:
  allOf:
    - $ref: '#/InvoiceObject'
    - type: object
      required:
        - subscriptions
        - fees
        - credits
      properties:
        credits:
          type: array
          items:
            $ref: '#/CreditObject'
        fees:
          type: array
          items:
            $ref: '#/FeeObject'
        subscriptions:
          type: array
          items:
            $ref: '#/SubscriptionObject'
Invoice:
  type: object
  required:
    - invoice
  properties:
    invoice:
      $ref: '#/InvoiceObjectExtended'
InvoicesPaginated:
  type: object
  required:
    - invoices
    - meta
  properties:
    invoices:
      type: array
      items:
        $ref: '#/InvoiceObject'
    meta:
      $ref: '#/PaginationMeta'
InvoiceInput:
  type: object
  required:
    - invoice
  properties:
    invoice:
      type: object
      properties:
        payment_status:
          type: string
          description: Status
          enum:
            - pending
            - succeeded
            - failed
        metadata:
          type: array
          items:
            type: object
            properties:
              id:
                type: string
                format: 'uuid'
                example: '1a901a90-1a90-1a90-1a90-1a901a901a90'
              key:
                type: string
                example: 'name'
              value:
                type: string
                example: 'John'
InvoiceOneOffInput:
  type: object
  required:
    - invoice
  properties:
    invoice:
      type: object
      required:
        - external_customer_id
      properties:
        external_customer_id:
          type: string
          example: '_ID_'
        currency:
          type: string
          example: 'EUR'
        fees:
          type: array
          items:
            type: object
            required:
              - add_on_code
            properties:
              add_on_code:
                type: string
                example: '12345'
              unit_amount_cents:
                type: integer
                example: 1200
              units:
                type: string
                example: '2.5'
              description:
                type: string
                example: 'This is description'
